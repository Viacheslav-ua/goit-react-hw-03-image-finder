{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.tsx","components/ImageGalleryItem/ImageGalleryItem.tsx","components/Searchbar/Searchbar.tsx","components/Button/Button.tsx","components/Modal/Modal.tsx","components/Loader/Loader.tsx","App.tsx","index.tsx","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGallery","children","className","S","ImageGalleryItem","webformatURL","openModal","largeImageURL","GalleryItem","onClick","src","alt","Image","Searchbar","state","keyword","handleInputChang","e","setState","currentTarget","name","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","SearchForm","this","type","Button","ButtonLabel","Input","onChange","autoComplete","autoFocus","placeholder","Component","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","Loader","color","height","width","App","pictures","page","largeURL","loading","showModal","responseAPI","fetch","then","res","json","totalHits","Promise","reject","Error","getPictures","catch","err","message","finally","obj","arrPictures","hits","map","item","id","prevState","scrollTo","top","documentElement","scrollHeight","behavior","setKeyword","str","toggleModal","openModalPicture","url","prevProps","length","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cb989a79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryItem\":\"ImageGalleryItem_GalleryItem__1l3fv\",\"Image\":\"ImageGalleryItem_Image__3YXvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","import React from \"react\";\nimport S from \"./ImageGallery.module.css\";\n\ninterface PropsType {\n\n}\n\nconst ImageGallery: React.FC<PropsType> = ({ children }) => {\n  return (\n    <ul className={S.ImageGallery}>\n      {children}\n    </ul>\n  )\n};\nexport default ImageGallery;\n","import React from \"react\";\n\nimport S from \"./ImageGalleryItem.module.css\";\ntype Picture = {\n  key: number;\n  largeImageURL: string;\n  webformatURL: string;\n  openModal: any;\n};\n\nconst ImageGalleryItem: React.FC<Picture> = ({ webformatURL, openModal, largeImageURL}) => {\n  return (\n    <li className={S.GalleryItem}  onClick={() => openModal(largeImageURL)}>\n      <img src={webformatURL} alt=\"Gallery item\" className={S.Image} />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport { ImSearch } from \"react-icons/im\";\nimport S from \"./Searchbar.module.css\";\nimport { toast } from 'react-toastify';\n\ninterface propsType {\n  onSubmit: any;\n}\n\nexport default class Searchbar extends Component<propsType> {\n  state = {\n    keyword: \"\",\n  }\n\n  handleInputChang = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ [e.currentTarget.name]: e.currentTarget.value });\n  }\n\n  handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.keyword.trim() === \"\") {\n      toast.error(\"Enter a word\");\n      return\n    }\n    this.props.onSubmit(this.state.keyword)\n  }\n\n  render() {\n    return (\n      <header className={S.Searchbar}>\n        <form className={S.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={S.Button}>\n            <ImSearch />\n            <span className={S.ButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={S.Input}\n            name=\"keyword\"\n            value={this.state.keyword}\n            type=\"text\"\n            onChange={this.handleInputChang}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport S from \"./Button.module.css\"\n\nconst Button: React.FC<any> = ({onLoadMore}) => (\n  <button type=\"button\" onClick={onLoadMore} className={S.Button}>Load more</button>\n)\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport S from \"./Modal.module.css\";\n\nconst modalRoot: any = document.querySelector(\"#modal-root\");\ninterface PropsType {\n  onClose: any;\n}\nexport default class Modal extends Component<PropsType> {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e: KeyboardEvent) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={S.Overlay} onClick={this.handleBackdropClick}>\n        <div className={S.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport S from \"./Loader.module.css\"\n\n const Loader = () => (\n  <div className={S.Loader}>\n    <Spinner\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n  </div>\n);\nexport default Loader","import React, { Component } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import \"./App.css\";\nimport S from \"./App.module.css\"\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\"\nimport Loader from \"./components/Loader\"\ntype Picture = {\n  id: number;\n  webformatURL: string;\n  largeImageURL: string;\n};\n\ninterface StateTypes {\n  pictures: Picture[];\n  keyword: string;\n  page: number;\n  largeURL: string;\n  loading: boolean;\n  showModal: boolean;\n}\n\nclass App extends Component {\n  state: StateTypes = {\n    pictures: [],\n    keyword: \"\",\n    page: 1,\n    largeURL: \"\",\n    loading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps: any, prevState: StateTypes) {\n    if (prevState.keyword !== this.state.keyword ||\n      prevState.page !== this.state.page) {\n      this.responseAPI(this.state.keyword, this.state.page)\n    }\n\n  }\n\n  responseAPI = (keyword: string, page: number) => {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"22997657-91d4620e666f378f8f41767fa\";\n    this.setState({ loading: true });\n    fetch(\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then(res => res.json())\n      .then(res => {\n\n        if (res.totalHits === 0) {\n          return Promise.reject(new Error('No images matching the search string'))\n        }\n        return res\n      })\n\n      .then((res) => this.getPictures(res))\n      .catch(err => {\n        toast.error(err.message)\n      })\n      .finally(() => this.setState({ loading: false }))\n  };\n\n  getPictures = (obj: any) => {\n    const arrPictures = obj.hits.map((item: Picture) => {\n      return {\n        id: item.id,\n        webformatURL: item.webformatURL,\n        largeImageURL: item.largeImageURL,\n      };\n    });\n\n    this.setState((prevState: StateTypes) => ({ pictures: [...prevState.pictures, ...arrPictures] }));\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  setKeyword = (str: string) => {\n    this.setState({\n      keyword: str,\n      page: 1,\n      pictures: [],\n    });\n  }\n\n  onLoadMore = () => {\n    this.setState((prevState: StateTypes) => ({ page: prevState.page + 1 }));\n  }\n\n  toggleModal = (): void => {\n    this.setState(({ showModal }: StateTypes) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  openModalPicture = (url: string) => {\n    this.setState({ largeURL: url, showModal: true })\n  }\n\n  render() {\n    return (\n      <div className={S.App}>\n        <Searchbar onSubmit={this.setKeyword} />\n        \n        <ImageGallery >\n          {this.state.loading && <Loader />}\n          {this.state.pictures.map((item: Picture) => (\n            <ImageGalleryItem\n              key={item.id}\n              largeImageURL={item.largeImageURL}\n              webformatURL={item.webformatURL}\n              openModal={this.openModalPicture} />\n          ))}\n        </ImageGallery>\n\n        {this.state.pictures.length >= 12 && <Button onLoadMore={this.onLoadMore} />}\n        \n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.state.largeURL} alt=\"\" />\n          </Modal>\n          \n        )}\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"Button\":\"Searchbar_Button__257ni\",\"ButtonLabel\":\"Searchbar_ButtonLabel__2McP2\",\"Input\":\"Searchbar_Input__3SYi2\"};"],"sourceRoot":""}